# Vol.14 Collection

## 14.1、为什么我们会需要Collection

Collection用来存对象，且只用来存对象。

- 数组长度固定，只可以用来存同类的数据类型

- 集合的长度是可变的，可以存不同类型的对象

——————————————————————————————————————————      

## 14.2、Collection类

增加
- col.add(ele)

- col.addAll(collection)

——————————————————————————————————————————      

删除
- col.remove(ele)

- col.removeAll(collection)

- col.clear()

——————————————————————————————————————————      

判断
- col.contains(ele)

- col.isEmpty()
——————————————————————————————————————————      

获取
- col.iterator()    返回一个迭代器对象

- col.size()        返回元素的个数

- col.retainAll(collection) 获取两个集合的交集

- col.toArray()     将集合转数组

——————————————————————————————————————————      

集合体系，因为数据结构的不同，集合有很多的子类
- Collection 
    - List
        - ArrayList ： 顺序表
        - LinkedList ：链表
        - Vector ：数组，线程同步，→ 已经过时，被ArrayList代替

    - Set
        - TreeSet ：树
        - HashSet ：哈希表

集合中存的都是对象的引用，也就是地址。  

迭代器：    
也就是取出元素的方式，里面有取元素的方法。  
一般获取到的是迭代器这个内部类  

——————————————————————————————————————————      

## 14.3、Iterator 是一个接口

- ite.hasNext()     是否还有下一个元素
- ite.next()        获取下一个元素
- ite.remove()      

```java
// 获取集合的迭代器
Iterator it = col.iterator();

// 获取集合中的下一个元素
Collection aa = it.next();

// 获取当前是否还有下一个元素
Boolean isNext = it.hasNext();

// 将当前的元素删除
Boolean isRemoveSuccess = it.remove();
```

对于不同的集合，会实现不同的其迭代方法。    
迭代器，其实就是集合类里面的内部类，通过itertor()方法暴露到外部中。 

——————————————————————————————————————————      

## 14.4、List 

- List：具有操作角标的特有方法
    - listIterator，是List集合特有的迭代器，    
    是Iterator的子接口，仅可以判断、取、删除。  
    迭代时，用Collection的方法是没法添加、修改元素的，  
    所以就需要用扩展的ListIterator  

    - listIterator可以添加、修改
        - hasPrevious()
        - next()
        - hasNext()
        - previousIndex()

——————————————————————————————————————————      

### 1、ArrayList

```java
ArrayList a = new ArrayList();
a.add(index,element);

a.addAll(index,Collection);

a.remove(index);

a.set(index,element);

a.get(index);

a.subList(from,to);

a.listIterator();   // 获取ArrayList的迭代器

a.indexOf(obj);     // 返回，某一个元素的索引。
```

——————————————————————————————————————————      

### 2、链表 LinkedList

```java
// 头插法插入元素
a.addFirst();

// 尾插法插入元素
a.addLast();

a.removeFirst();
a.removeLast();

a.getFirst();
a.getLast();


// 以下，JDK1.6可用
a.offerFirst();
a.offerLast();

a.peekFirst();
a.peekLast();

a.pollFirst();
a.pollLast();
```

> Tips：    
> 什么时候用ArrayList，什么时候用LinkedList，   
> 取决于具体使用场景。  

——————————————————————————————————————————      

练习：使用LinkedList实现栈、队列。      
```java
import java.util.*;
/**
 * @desc 队列
 */
class Duilie
{
    private LinkedList link;
    Duilie(){
        link = new LinkedList();
    }
    public void myAdd(Object obj){
        link.addFirst(obj);
    }
    public Object myGet(){
        return link.removeFirst();
    }
    public boolean isNull(){
        return link.isEmpty();
    }
}
```
——————————————————————————————————————————      
练习：去除ArrayList中的空元素。     

——————————————————————————————————————————      
练习：将自定义元素放入ArrayList，并去重     

——————————————————————————————————————————      
## 14.5、Set

Set，无序表，元素不重复。   

功能和Collection是一致的。  

HashSet：   
底层数据结构是哈希表，线程不同步。  

Object的hashCode()、equals()方法，  
都是先判定obj.hashCode()，再判断equals。    

> 注意，    
> Set的添加、删除， 
> 都会先判断hashCode，再判断equals。    

```java
HashSet hs = new HashSet();
hs.add(new Person("a1",11));
```