# Vol.10

## 10.1、函数语句中有throw，其函数名称就要throws

一个带有throws的函数，在调用的时候，要try catch，   
对方throw什么，就catch什么。    

> 注意：   
> 即使catch中出现了return，finally里面的函数也会执行。   
> 可以用finally来关闭数据库的连接，   
> 也就是无论数据操作是否成功，都可以保证资源的释放。   
>    
> 而finally，一般就是拿来关闭资源的。   

——————————————————————————————————————————      

## 10.2、格式
- try catch
- try catch finally
- try finally

没有catch就代表了没有处理异常，异常没有声明处理，那么编译就会失败。

——————————————————————————————————————————      

## 10.3、异常在子父类覆盖时的表现

```java
class AException extends Exception{}
class BException extends AException{}
```

对于同一个方法，
- 如果父类 throws AException，
    - 那么子类可以 throws AException，或 throws BException
    - 但是不能够throws其他类的异常

- 如果父类抛出了多个异常，子类仅可以抛出其多个异常的子集。 

- 如果父类或接口没有异常抛出，则子类也不可以抛异常。
    - 这时候的子类有异常要用try 不可以throws

> 为什么要有异常处理机制？  
> 主要是为了使正常的代码和异常代码相分离。  

## 10.4、异常相关的总结

- 异常：是对问题的描述，对其对象的封装。

- 异常体系：
    - Throwable
        - Error
        - Exception ：有一类特殊的RuntimeException

——————————————————————————————————————————      

如果一个函数内部有throw，那么要在函数上进行throws声明，否则编译报错。
    但是，RuntimeException不需要。

throws之后，要对异常进行处理，可以throw，也可以try catch

——————————————————————————————————————————      

有两种异常，
- 编译时被检测的异常：异常没有throws，也没有try，则编译失败；
- 运行时异常，编译时不检测

——————————————————————————————————————————      

异常处理语句：try catch finally

注意：
1、finally一般用于资源释放
2、finally有可能会不被执行，这只有一种例外情况，就是前面的代码出现了System.exit(0)

——————————————————————————————————————————      

异常的好处：
- 将问题进行封装
- 将正常代码和问题处理代码分离

——————————————————————————————————————————      

## 10.6、包 Package

- 对类文件分类管理

- 给类提供多层的命名空间

- 包的引入写在程序文件的第一行

- 类名全称 包名.类名    

```java
// 包名一般是小写字母
package pack;
class PackageDemo
{

}

// 在其他的文件中引入之后，类名前缀要加包名才能访问
new pack.PackageDemo();
```

编译时，加参数
```cmd
javac -d d:\abc
javac -d . PackageDemo.java
javac -d c:\myclass PackageDemo.java
```

——————————————————————————————————————————      

## 10.7、包与包之间的访问

不同包中的类如何相互访问？  
包中的类，用public修饰，且类中的成员也用public修饰。    

protected，保护权限，   
加了protected之后，不同包中的子类，可以访问父类protected的成员。    


包与包之间可以使用的权限
- public
- protected

——————————————————————————————————————————      

> 注意：    
> 一个java包中，只可以有一个类用public修饰，该类暴露出去，可以被其他包访问。    
> 所以，相互之间没有关联的类，尽量放到不同的文件里。    

——————————————————————————————————————————      

访问规则：
|           | public  | protected | default | private |
| ---       |---      |---        |---      |---      |
| 同一个类中 |    √    |     √     |    √    |    √    |
| 同一个包中 |    √    |     √     |    √    |         |
| 子类      |    √    |      √    |         |         |
| 不同包中   |    √    |           |         |         |

——————————————————————————————————————————      

```java
// 包中还有子包，用.来进行分隔
package pack.haha.heeh; 
class DemoC{

}

/* 如果要访问DemoC，就要加包的前缀名 */
new pack.haha.heeh.DemoC();

/* 显然，这种方法，很繁琐，所以就有了import */
import pack.haha.heeh.*;
new DemoC();    // 有了import，可以直接访问DemoC，不用加前缀。
```

> 注意：    
> pack.haha.heeh，在文件结构上，其实是/pack/haha/heeh； 
>   
> 导入包的时候，注意要按需引用；    
>   
> 重名怎么办？此时必须要加包名！    

——————————————————————————————————————————      

## 10.8、jar 包

为什么要jar包？
为了方便携带，便于使用，要用jar包，需要在classpath设置jar包的路径。

```cmd
# 此时，将packa和pack两个包，归入到hahh.jar包中。
jar -cf hahh.jar packa pack
```